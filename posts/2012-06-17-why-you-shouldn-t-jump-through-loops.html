<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="me" href="https://mastodon.social/@yogthos">
    <link rel="me" href="https://mas.to/@yogthos">
    <link rel="me" href="https://social.marxist.network/@yogthos">
    <title>(iterate think thoughts): why you shouldn&#39;t jump through loops</title>
    <meta name="description" content="Dmitri&#39;s blog about programming, Clojure, and software development">
    <meta name="keywords" content="">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="icon" type="image/png" href="/img/favicon.png">
    <link href="/css/site.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" media="(prefers-color-scheme: light)" id="hljs-light">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tomorrow-night-eighties.min.css" media="(prefers-color-scheme: dark)" id="hljs-dark">
    <script>
    (function(){var t=localStorage.getItem('theme');if(t){document.documentElement.setAttribute('data-theme',t);var l=document.getElementById('hljs-light'),d=document.getElementById('hljs-dark');if(l&&d){if(t==='dark'){l.media='not all';d.media='all'}else{l.media='all';d.media='not all'}}}})();
    </script>
</head>
<body>

<aside id="sidebar">

    <p id="logo">
        <a title="(iterate think thoughts)" href="/index.html">
            <span class="text"><span class="paren">(</span><span class="fn">iterate</span>
                <br>
                <span class="text">&nbsp;&nbsp;think</span>
                <br>
                <span class="text">&nbsp;&nbsp;thoughts<span class="paren">)</span>
            </span>
        </a>
    </p>

    <nav id="menucont" class="bodycontainer">
        <button class="menu-toggle" aria-label="Toggle menu">
            <span class="hamburger"></span>
            <span class="menu-label">Menu</span>
        </button>
        <ul class="menu">
            <li ><a title="Home" href="/index.html">Home</a></li>
            <li ><a title="Archives" href="/archives.html">Archives</a></li>
            
            <li ><a title="Tags" href="/tags.html">Tags</a></li>
            
            
            <li >
                <a href="/pages/about.html">About</a>
            </li>
            
            <li><a title="RSS" href="/feed.xml">RSS</a></li>
        </ul>
    </nav>

    <div class="theme-toggle-wrapper">
        <button class="theme-toggle" aria-label="Toggle dark mode">
            <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></svg>
            <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></svg>
            <span>Theme</span>
        </button>
    </div>
</aside>

<main id="content">
    
<div id="post">
    <article>
<div class="post-header">
    <div id="post-meta" class="row">
        <strong>June 17, 2012</strong>
        
    </div>
    <h1><a class="post-title" href="/posts/2012-06-17-why-you-shouldn-t-jump-through-loops.html">why you shouldn&#39;t jump through loops</a></h1>
</div>
<div>
    
    <p>In Java passing logic as a parameter requires an inordinate amount of work and it's never the first choice to do so. So in most cases you're better off just writing a loop and doing the null check in it. Let's look at a concrete example of what I'm talking about here. Let's say we want to filter collections based on a predicate. The standard way you would do that in Java is to write a loop:<pre><code class="java">public static List&lt;Integer&gt; filterEven&#40;Collection&lt;Integer&gt; col&#41; {
    if &#40;null == col&#41; return null;
    List&lt;Integer&gt; result = new LinkedList&lt;Integer&gt;&#40;&#41;;
    for &#40;Integer i  : col&#41; {			
        if &#40;i % 2 == 0&#41; result.add&#40;i&#41;;			
     }		
     return result;
}
</code></pre></p><p>then if later I need to filter odd numbers I'll probably write another loop that looks almost identical except for the actual test. Obviously, the looping logic should be abstracted here, but let's look at what's involved in doing that in Java:<pre><code class="java">public interface Predicate&lt;T&gt; {
    public boolean matches&#40;T t&#41;;
}

public class EvenPredicate implements Predicate&lt;Integer&gt; {
	
    public boolean matches&#40;Integer i&#41; {
 	return i % 2 == 0; 
    }			
}

import java.util.Collection;
import java.util.LinkedList;
import java.util.List;

public class Filter {

    public static &lt;T&gt; List&lt;T&gt; filterCollection&#40;Collection&lt;T&gt; col, 
                                          Predicate&lt;T&gt; predicate&#41; {
        List&lt;T&gt; result = new LinkedList&lt;T&gt;&#40;&#41;;
	    for &#40;T t : col&#41; {			
                    if &#40;predicate.matches&#40;t&#41;&#41; {
                        result.add&#40;t&#41;;
                    }
            }		
            return result;
    }
}
</code></pre></p><p>That's a lot more work than just writing a loop, and unless you saw this pattern many times you probably wouldn't consider doing it. Now let's compare this to a language like Clojure, where I would use a higher order function and pass in the matcher without having to do any preliminary setup:<pre><code class="clojure">&#40;filter even? &#40;range 10&#41;&#41;
</code></pre></p><p>what if I wanted to write a loop to do that<pre><code class="clojure">&#40;loop &#91;nums &#40;range 10&#41;
       even-nums &#91;&#93;&#93;
    &#40;if &#40;empty? nums&#41;
        even-nums
        &#40;recur &#40;rest nums&#41; 
                  &#40;if &#40;even? &#40;first nums&#41;&#41; 
                     &#40;conj even-nums &#40;first nums&#41;&#41; even-nums&#41;&#41;&#41;&#41;
</code></pre></p><p>all of a sudden the situation is reversed, it's <i>a lot</i> more code to do explicit looping, and it's trivial to use a higher order function to do this task. So the language encourages you to write code through function composition by design. Being able to easily separate iteration from the logic applied inside it means that we can write code that's shorter, cleaner, and less error prone.</p>
</div>

<br/>
</article>

    <div id="prev-next">
        
        <a class="button" href="/posts/2012-06-23-popularity-contests.html">&laquo; popularity contests</a>
        
        
        <a class="right button" href="/posts/2012-06-05-I-don-t-need-a-method-to-function.html">I don&#39;t need a method to function &raquo;</a>
        
    </div>

    


</div>

    <hr/>
    <footer id="footercont">Copyright &copy; 2026 Dmitri Sotnikov
        <p>Powered by <a href="http://cryogenweb.org">Cryogen</a></p>
    </footer>
</main>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="/js/scripts.js" type="text/javascript"></script>


</body>
</html>
